SET CHARACTER SET utf8;

START TRANSACTION;

CREATE TABLE textes_bak (
    id INTEGER(4) NOT NULL auto_increment, 
    genre VARCHAR(50), 
    artist VARCHAR(50), 
    album VARCHAR(50), 
    title VARCHAR(50), 
    no INTEGER(2), 
    data BLOB, 
    PRIMARY KEY (id));

CREATE TABLE textes (
    id INTEGER(4) NOT NULL auto_increment, 
    genre VARCHAR(50), 
    artist VARCHAR(50), 
    album VARCHAR(50), 
    title VARCHAR(50), 
    no INTEGER(2), 
    data BLOB, 
    PRIMARY KEY (id));

CREATE TABLE my_beloved_capsules_bak (
    id INTEGER(4) NOT NULL auto_increment,
    title VARCHAR(50),
    PRIMARY KEY (id));

CREATE TABLE my_beloved_capsules (
    id INTEGER(4) NOT NULL auto_increment,
    title VARCHAR(50),
    PRIMARY KEY (id));

CREATE TABLE capsules_textes_bak (
    my_beloved_capsules_id INTEGER(4) NOT NULL,
    textes_id INTEGER(4) NOT NULL,
    no INTEGER(2) NOT NULL,
    PRIMARY KEY (my_beloved_capsules_id, textes_id));

CREATE TABLE capsules_textes (
    my_beloved_capsules_id INTEGER(4) NOT NULL,
    textes_id INTEGER(4) NOT NULL,
    no INTEGER(2) NOT NULL,
    PRIMARY KEY (my_beloved_capsules_id, textes_id));

CREATE TABLE textes_onetomany_bak (
    id INTEGER(4) NOT NULL auto_increment, 
    title VARCHAR(50),
    my_beloved_capsules_id INTEGER(4) NOT NULL, -- REFERENCES ...
    num INTEGER(2), -- position in capsule
    PRIMARY KEY (id));

CREATE TABLE textes_onetomany (
    id INTEGER(4) NOT NULL auto_increment, 
    title VARCHAR(50),
    my_beloved_capsules_id INTEGER(4) NOT NULL, -- REFERENCES ...
    num INTEGER(2), -- position in capsule
    PRIMARY KEY (id));

INSERT INTO textes_bak VALUES(1,'jazz','Birelli Lagrène','manouche swing','swing it !',1,X'6A617A7A0A426972656C6C69204C616772C3A86E650A6D616E6F75636865207377696E670A30310A7377696E6720697420210A');
INSERT INTO textes_bak VALUES(2,'jazz','Birelli Lagrène','manouche swing','a remark you made',2,X'6A617A7A0A426972656C6C69204C616772C3A86E650A6D616E6F75636865207377696E670A30320A612072656D61726B20796F75206D6164650A');
INSERT INTO textes_bak VALUES(3,'jazz','Birelli Lagrène','manouche swing','tralalaitou',3,X'6A617A7A0A426972656C6C69204C616772C3A86E650A6D616E6F75636865207377696E670A30330A7472616C616C6169746F750A');
INSERT INTO textes_bak VALUES(4,'rock','Jesus''harlem','alleluia','alleluia',1,X'726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30310A616C6C656C7569610A');
INSERT INTO textes_bak VALUES(5,'rock','Jesus''harlem','alleluia','david',4,X'726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30340A64617669640A');
INSERT INTO textes_bak VALUES(6,'rock','Jesus''harlem','alleluia','holy star',5,X'726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30350A686F6C7920737461720A');
INSERT INTO textes_bak VALUES(7,'rock','Jesus''harlem','alleluia','juda',6,X'726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30360A6A756461');
INSERT INTO textes_bak VALUES(8,'rock','Jesus''harlem','alleluia','solomon',3,X'726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30330A736F6C6F6D6F6E0A');
INSERT INTO textes_bak VALUES(9,'rock','Jesus''harlem','alleluia','satan',7,X'726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30370A736174616E0A');
INSERT INTO textes_bak VALUES(10,'rock','Jesus''harlem','alleluia','jesus',2,X'726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30320A6A657375730A');
INSERT INTO textes_bak VALUES(11,'rock','Jesus''harlem','amen','mary',2,X'726F636B0A4A65737573276861726C656D0A616D656E0A30320A6D6172790A');
INSERT INTO textes_bak VALUES(12,'rock','Jesus''harlem','amen','sophomore',1,X'726F636B0A4A65737573276861726C656D0A616D656E0A30310A736F70686F6D6F72650A');
INSERT INTO textes_bak VALUES(13,'rock','Jesus''harlem','amen','heaven''s swing',7,X'726F636B0A4A65737573276861726C656D0A616D656E0A30370A68656176656E2773207377696E670A');
INSERT INTO textes_bak VALUES(14,'rock','Jesus''harlem','amen','mechanical blues',5,X'726F636B0A4A65737573276861726C656D0A616D656E0A30350A6D656368616E6963616C20626C7565730A');
INSERT INTO textes_bak VALUES(15,'rock','Jesus''harlem','amen','a fistful of sins',6,X'726F636B0A4A65737573276861726C656D0A616D656E0A30360A61206669737466756C206F662073696E730A');
INSERT INTO textes_bak VALUES(16,'rock','Jesus''harlem','amen','rockstar grace',4,X'726F636B0A4A65737573276861726C656D0A616D656E0A30340A726F636B737461722067726163650A');
INSERT INTO textes_bak VALUES(17,'rock','Jesus''harlem','amen','toto was a christian',8,X'726F636B0A4A65737573276861726C656D0A616D656E0A30380A746F746F20776173206120636872697374616E0A');
INSERT INTO textes_bak VALUES(18,'rock','Jesus''harlem','amen','cross',3,X'726F636B0A4A65737573276861726C656D0A616D656E0A30330A63726F73730A');
INSERT INTO textes_bak VALUES(19,'rock','Water please','S.O.B','may the pënguin be with you',1,X'726F636B0A576174657220706C656173650A532E4F2E420A30310A6D6179207468652070C3AB6E6775696E206265207769746820796F750A');
INSERT INTO textes_bak VALUES(20,'rock','Water please','S.O.B','wazaaaaa !!',2,X'726F636B0A576174657220706C656173650A532E4F2E420A30320A77617A61616161612021210A');


--INSERT INTO textes_onetomany_bak VALUES(1,'swing it !');
INSERT INTO textes_onetomany_bak VALUES(2,'a remark you made',1,2);
INSERT INTO textes_onetomany_bak VALUES(3,'tralalaitou',1,3);
INSERT INTO textes_onetomany_bak VALUES(4,'alleluia',1,1);
--INSERT INTO textes_onetomany_bak VALUES(5,'david');
--INSERT INTO textes_onetomany_bak VALUES(6,'holy star');
INSERT INTO textes_onetomany_bak VALUES(7,'juda',2,1);
--INSERT INTO textes_onetomany_bak VALUES(8,'solomon');
--INSERT INTO textes_onetomany_bak VALUES(9,'satan');
--INSERT INTO textes_onetomany_bak VALUES(10,'jesus');
--INSERT INTO textes_onetomany_bak VALUES(11,'mary');
--INSERT INTO textes_onetomany_bak VALUES(12,'sophomore');
--INSERT INTO textes_onetomany_bak VALUES(13,'heaven''s swing');
--INSERT INTO textes_onetomany_bak VALUES(14,'mechanical blues');
--INSERT INTO textes_onetomany_bak VALUES(15,'a fistful of sins');
--INSERT INTO textes_onetomany_bak VALUES(16,'rockstar grace');
--INSERT INTO textes_onetomany_bak VALUES(17,'toto was a christian');
--INSERT INTO textes_onetomany_bak VALUES(18,'cross');
INSERT INTO textes_onetomany_bak VALUES(19,'may the pënguin be with you',2,2);
--INSERT INTO textes_onetomany_bak VALUES(20,'wazaaaaa !!');

INSERT INTO my_beloved_capsules_bak VALUES(1, 'Great BestOf');
INSERT INTO my_beloved_capsules_bak VALUES(2, 'Best of the Lord');

INSERT INTO capsules_textes_bak VALUES(1, 2, 2);
INSERT INTO capsules_textes_bak VALUES(1, 3, 3);
INSERT INTO capsules_textes_bak VALUES(1, 4, 1);
INSERT INTO capsules_textes_bak VALUES(2, 3, 1);
INSERT INTO capsules_textes_bak VALUES(2, 19, 2);

COMMIT;
