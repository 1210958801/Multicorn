SET client_encoding = 'UTF8';

START TRANSACTION;

CREATE SEQUENCE seq_textes_bak;
CREATE TABLE textes_bak (
    id smallint DEFAULT nextval('seq_textes_bak') NOT NULL, 
    genre character varying(50), 
    artist character varying(50), 
    album character varying(50), 
    title character varying(50), 
    no smallint, 
    data bytea);
ALTER TABLE textes_bak ADD CONSTRAINT textes_bak_pkey PRIMARY KEY (id);

CREATE SEQUENCE seq_textes START 100;
CREATE TABLE textes (
    id smallint DEFAULT nextval('seq_textes') NOT NULL, 
    genre character varying(50), 
    artist character varying(50), 
    album character varying(50), 
    title character varying(50), 
    no smallint, 
    data bytea);
ALTER TABLE textes ADD CONSTRAINT textes_pkey PRIMARY KEY (id);

CREATE SEQUENCE seq_my_beloved_capsules_bak;
CREATE TABLE my_beloved_capsules_bak (
    my_beloved_capsules_id smallint DEFAULT nextval('seq_my_beloved_capsules_bak') NOT NULL,
    title character varying(50));
ALTER TABLE my_beloved_capsules_bak ADD CONSTRAINT my_beloved_capsules_bak_pkey PRIMARY KEY (my_beloved_capsules_id);

CREATE SEQUENCE seq_my_beloved_capsules START 100;
CREATE TABLE my_beloved_capsules (
    my_beloved_capsules_id smallint DEFAULT nextval('seq_my_beloved_capsules') NOT NULL,
    title character varying(50));
ALTER TABLE my_beloved_capsules ADD CONSTRAINT my_beloved_capsules_pkey PRIMARY KEY (my_beloved_capsules_id);

CREATE TABLE capsules_textes_bak (
    capsules_id smallint NOT NULL,
    textes_id smallint NOT NULL);
ALTER TABLE capsules_textes_bak ADD CONSTRAINT capsules_textes_bak_pkey PRIMARY KEY (capsules_id, textes_id);

CREATE TABLE capsules_textes (
    my_beloved_capsules_id smallint NOT NULL,
    textes_id smallint NOT NULL);
ALTER TABLE capsules_textes ADD CONSTRAINT capsules_textes_pkey PRIMARY KEY (my_beloved_capsules_id, textes_id);

INSERT INTO textes_bak VALUES(1,'jazz','Birelli Lagrène','manouche swing','swing it !',1,decode('6A617A7A0A426972656C6C69204C616772C3A86E650A6D616E6F75636865207377696E670A30310A7377696E6720697420210A','hex'));
INSERT INTO textes_bak VALUES(2,'jazz','Birelli Lagrène','manouche swing','a remark you made',2,decode('6A617A7A0A426972656C6C69204C616772C3A86E650A6D616E6F75636865207377696E670A30320A612072656D61726B20796F75206D6164650A','hex'));
INSERT INTO textes_bak VALUES(3,'jazz','Birelli Lagrène','manouche swing','tralalaitou',3,decode('6A617A7A0A426972656C6C69204C616772C3A86E650A6D616E6F75636865207377696E670A30330A7472616C616C6169746F750A','hex'));
INSERT INTO textes_bak VALUES(4,'rock','Jesus''harlem','alleluia','alleluia',1,decode('726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30310A616C6C656C7569610A','hex'));
INSERT INTO textes_bak VALUES(5,'rock','Jesus''harlem','alleluia','david',4,decode('726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30340A64617669640A','hex'));
INSERT INTO textes_bak VALUES(6,'rock','Jesus''harlem','alleluia','holy star',5,decode('726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30350A686F6C7920737461720A','hex'));
INSERT INTO textes_bak VALUES(7,'rock','Jesus''harlem','alleluia','juda',6,decode('726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30360A6A756461','hex'));
INSERT INTO textes_bak VALUES(8,'rock','Jesus''harlem','alleluia','solomon',3,decode('726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30330A736F6C6F6D6F6E0A','hex'));
INSERT INTO textes_bak VALUES(9,'rock','Jesus''harlem','alleluia','satan',7,decode('726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30370A736174616E0A','hex'));
INSERT INTO textes_bak VALUES(10,'rock','Jesus''harlem','alleluia','jesus',2,decode('726F636B0A4A65737573276861726C656D0A616C6C656C7569610A30320A6A657375730A','hex'));
INSERT INTO textes_bak VALUES(11,'rock','Jesus''harlem','amen','mary',2,decode('726F636B0A4A65737573276861726C656D0A616D656E0A30320A6D6172790A','hex'));
INSERT INTO textes_bak VALUES(12,'rock','Jesus''harlem','amen','sophomore',1,decode('726F636B0A4A65737573276861726C656D0A616D656E0A30310A736F70686F6D6F72650A','hex'));
INSERT INTO textes_bak VALUES(13,'rock','Jesus''harlem','amen','heaven''s swing',7,decode('726F636B0A4A65737573276861726C656D0A616D656E0A30370A68656176656E2773207377696E670A','hex'));
INSERT INTO textes_bak VALUES(14,'rock','Jesus''harlem','amen','mechanical blues',5,decode('726F636B0A4A65737573276861726C656D0A616D656E0A30350A6D656368616E6963616C20626C7565730A','hex'));
INSERT INTO textes_bak VALUES(15,'rock','Jesus''harlem','amen','a fistful of sins',6,decode('726F636B0A4A65737573276861726C656D0A616D656E0A30360A61206669737466756C206F662073696E730A','hex'));
INSERT INTO textes_bak VALUES(16,'rock','Jesus''harlem','amen','rockstar grace',4,decode('726F636B0A4A65737573276861726C656D0A616D656E0A30340A726F636B737461722067726163650A','hex'));
INSERT INTO textes_bak VALUES(17,'rock','Jesus''harlem','amen','toto was a christian',8,decode('726F636B0A4A65737573276861726C656D0A616D656E0A30380A746F746F20776173206120636872697374616E0A','hex'));
INSERT INTO textes_bak VALUES(18,'rock','Jesus''harlem','amen','cross',3,decode('726F636B0A4A65737573276861726C656D0A616D656E0A30330A63726F73730A','hex'));
INSERT INTO textes_bak VALUES(19,'rock','Water please','S.O.B','may the pënguin be with you',1,decode('726F636B0A576174657220706C656173650A532E4F2E420A30310A6D6179207468652070C3AB6E6775696E206265207769746820796F750A','hex'));
INSERT INTO textes_bak VALUES(20,'rock','Water please','S.O.B','wazaaaaa !!',2,decode('726F636B0A576174657220706C656173650A532E4F2E420A30320A77617A61616161612021210A','hex'));

INSERT INTO my_beloved_capsules_bak VALUES(1, 'Great BestOf');
INSERT INTO my_beloved_capsules_bak VALUES(2, 'Best of the Lord');

INSERT INTO capsules_textes_bak VALUES(1, 2);
INSERT INTO capsules_textes_bak VALUES(1, 3);
INSERT INTO capsules_textes_bak VALUES(1, 4);
INSERT INTO capsules_textes_bak VALUES(2, 3);
INSERT INTO capsules_textes_bak VALUES(2, 19);

COMMIT;
